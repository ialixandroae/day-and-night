(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),o=a.n(s),i=(a(95),a(141)),c=a(142),u=a(143),l=a(8),h=a.n(l),f=a(22),p=a(12),d=a(33),m=a(23),v=a.n(m),y=y||{};y.Time=y.Time||function(e){if(e)t=e;else var t=new Date;var a=function(e){return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds()}}(t),n=function(){var e=a.year,t=a.month,n=a.day;if(t<=2)e=e-1,t=t+12;var r=Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n-1524.5;if(r<2299160.5)var s=0;else{var o;s=2-(o=Math.floor(e/100))+Math.floor(o/4)}return r+s};return{date:t,year:Number(a.year),month:Number(a.month),day:Number(a.day),hours:Number(a.hours),minutes:Number(a.minutes),seconds:Number(a.seconds),timezone:t.getTimezoneOffset()/60,jd:n,gmst:function(){var e=Math.PI/180,t=3600*a.hours+60*a.minutes+a.seconds,r=(n()-2451545)/36525,s=(24110.5484+8640184.812866*r+.093104*r*r+62e-7*r*r*r)/3600;s>24&&(s%=24);var o=s+1.00273790925*t/3600,i=23.43929111111111-46.815/3600*r-59e-5/3600*r*r+.001813/3600*r*r*r,c=125.04452-1934.136261*r+.0020708*r*r+r*r*r/45e4,u=280.4665+36000.7698*r,l=218.3165+481267.8813*r;return(o+=(-17.2*Math.sin(c*e)- -1.32*Math.sin(2*u*e)-.23*Math.sin(2*l*e)+.21*Math.sin(2*c*e))/15*Math.cos(i*e)/3600)<0&&(o=o%24+24),o>24&&(o%=24),o}}},y.Terminator=function(e){var t=e.shade,a=e.boundary;y.Storage=y.Storage||{},y.Storage.Terminator=y.Storage.Terminator||[];var n=Math.PI/180,r=function(e){var t=e.hours/24+e.minutes/1440+e.seconds/86400,a=(e.jd()+t-2451545)/36525,r=280.46646+36000.76983*a+3032e-7*a*a,s=357.52911+35999.05029*a-1537e-7*a*a,o=.016708634-42037e-9*a-1.267e-7*a*a,i=(1.914602-.004817*a-14e-6*a*a)*Math.sin(s*n);i+=(.019993-101e-6*a)*Math.sin(2*s*n);var c,u,l=r+(i+=289e-6*Math.sin(3*s*n)),h=s+i,f=1.000001018*(1-o*o)/(1+o*Math.cos(h*n)),p=(c=new(c=function(e){var t=(125.04452-1934.136261*e+.0020708*e*e+(e*e+e)/45e4)*n,a=(280.4665+36000.7698*e)*n,r=(218.3165+481267.8813*e)*n;return{nutation:-17.2/3600*Math.sin(t)- -1.32/3600*Math.sin(2*a)-.23/3600*Math.sin(2*r)+.21/3600*Math.sin(2*t)/n,obliquity:23.43929111111111-46.815/3600*e-59e-5/3600*e*e+.001813/3600*e*e*e+(9.2/3600*Math.cos(t)+.57/3600*Math.cos(2*a)+.1/3600*Math.cos(2*r)-.09/3600*Math.cos(2*t))}})(a)).nutation,d=c.obliquity,m=l+p,v=Math.atan2(Math.cos(d*n)*Math.sin(m*n),Math.cos(m*n));(u=v/n)>360?u%=360:u=u<0?u%360+360:u,v=u/15;var y=Math.asin(Math.sin(d*n)*Math.sin(m*n)),g=149597870*f;return{ra:v,dec:y/=n,distance:g,x:g*Math.cos(m*n),y:g*(Math.sin(m*n)*Math.cos(d*n)),z:g*(Math.sin(m*n)*Math.sin(d*n))}},s=function(e){var n=function(e){var t=Math.PI/180,a=r(e),n=a.ra,s=a.dec,o=-(15*e.gmst()-15*n);o>360&&(o%=360),o<0&&(o=o%360+360);var i=s;if(i>5)var c="south";else if(i<-5)c="north";else c="none";var u=function(e,a,n){for(var r=[],s=[],c=e;c<=a;c+=1){var u=Math.asin(Math.cos(i*t)*Math.sin(c*t))/t;if(Math.abs(u)<85){var l=-Math.cos(o*t)*Math.sin(i*t)*Math.sin(c*t)-Math.sin(o*t)*Math.cos(c*t),h=-Math.sin(o*t)*Math.sin(i*t)*Math.sin(c*t)+Math.cos(o*t)*Math.cos(c*t),f=Math.atan2(h,l)/t;f>360&&(f%=360),f<0&&(f=f%360+360),r.push(u),s.push(f)}}return 1==n?{lat_array:r.reverse(),lng_array:s.reverse()}:{lat_array:r,lng_array:s}},l=(f=u(0,90,!0)).lat_array,h=f.lng_array,f=u(270,360,!0);l=l.concat(f.lat_array),h=h.concat(f.lng_array);var p=(f=u(90,180,!1)).lat_array,d=f.lng_array;f=u(180,270,!1);return p=p.concat(f.lat_array),d=d.concat(f.lng_array),i<0?(p.reverse(),d.reverse()):i>0&&(l.reverse(),h.reverse()),{latitude_array:l.concat(p),longitude_array:h.concat(d),polar_night_flag:c}}(e),s=function(e){var t=e,a=t.longitude_array,n=t.latitude_array,r=a.length,s=a[0],o=a[r-1];if(s>90)(i=90*Math.floor(s/90)+90)<=0&&(i=360);else var i=90;var c=90*Math.floor(o/90)+90,u=function(e,t,a,n,r){if(360==r)var s=360;else s=0;return e+(a-e)/(n+s-t)*(r-t)},l=[],h=[],f=function(e,t,s,o){for(var i=e;i<=t;i+=90){l[s]=[],h[s]=[];for(var c=o;c<r;c++){if(!(i>a[c]&&i-90<a[c])){var f=u(n[c-1],a[c-1],n[c],a[c],i);l[s].push(i),h[s].push(f),o=c,s++;break}l[s].push(a[c]),h[s].push(n[c])}}return{splitted_lng_array:l,splitted_lat_array:h,split_point:i,split_count:s,next:o}};if(s<o)var p=new f(i,c,0,0);else{p=new f(i,360,0,0);p=new f(90,c,p.split_count,p.next)}l=p.splitted_lng_array,h=p.splitted_lat_array;for(var d=l.length,m=1;m<d;m++){o=l[m-1][l[m-1].length-1];var v=h[m-1][h[m-1].length-1];360==o&&(o=0),l[m].unshift(o),h[m].unshift(v)}return{splitted_lng_array:l,splitted_lat_array:h}}(n),o=s.splitted_lng_array,i=s.splitted_lat_array,c=n.polar_night_flag;if("north"==c)var u=85;else if("south"==c)u=-85;for(var l=function(e,t,a){var n=[],r=[],s=e.length,o=t.length;if(e[0]>180)var i=e[0]-360;else i=e[0];if(i<0&&(t.reverse(),e.reverse()),s>0){"none"!=c&&n.push([u,e[0]]),n.push([a,e[0]]);for(var l=0;l<o;l++)n.push([t[l],e[l]]),r.push([t[l],e[l]]);n.push([a,e[s-1]]),"none"!=c&&n.push([u,e[s-1]]),n.push(n[0]),t[o-1]==t[o-2]&&e[s-1]!=e[s-2]&&r.pop(),t[0]==t[1]&&e[0]!=e[1]&&r.shift()}return{polygon:n,polyline:r}},h=[],f=[],p=i[0][0],d=o.length,m=0;m<d;m++){var v=new l(o[m],i[m],p);h[m]=v.polygon,f[m]=v.polyline}return t?h:a?f:void 0},o=function(){if(t)for(var e=0,n=y.Storage.NightPorigon.length;e<n;e++)y.Storage.NightPorigon[e].setMap(null);if(a)for(e=0,n=y.Storage.NightBoundaryPolyline.length;e<n;e++)y.Storage.NightBoundaryPolyline[e].setMap(null)};return{get:function(e){var t=new y.Time(e);return s(t)},remove:function(){o()},update:function(e){o();var t=new y.Time(e);return s(t)}}};var g=function(e,t){var a={lat:e,lon:t},n=e>0?90:-90,r=e%90;switch(Math.floor(Math.abs(e)/90)%4){case 0:a.lat=r;break;case 1:a.lat=n-r,a.lon+=180;break;case 2:a.lat=-r,a.lon+=180;break;case 3:a.lat=-n+r}return(a.lon>180||a.lon<-180)&&(a.lon-=360*Math.floor((a.lon+180)/360)),[a.lon,a.lat]},w=function(e){var t=v()(e);return{tomorrow:t.add(1,"day").endOf("day").toDate(),yesterday:t.subtract(2,"day").startOf("day").toDate()}},M=function(){var e=Object(f.a)(h.a.mark((function e(t,a,n){var r,s,o,i,c,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.loadModules)(["esri/Graphic","esri/geometry/Polygon","esri/geometry/support/geodesicUtils","esri/geometry/support/normalizeUtils","esri/geometry/support/webMercatorUtils"],{css:!0});case 2:r=e.sent,s=Object(p.a)(r,5),o=s[0],i=s[1],c=s[2],u=s[3],l=s[4],m=t,new y.Terminator({shade:!0,boundary:!1}).get(m).map((function(e){return e.map((function(e){return g(e[0],e[1])}))})).forEach(function(){var e=Object(f.a)(h.a.mark((function e(t){var r,s,f,p,d,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i({rings:t}),s={type:"simple-fill",color:[0,0,0,n],outline:{color:[0,0,0,n],width:0}},f=c.geodesicDensify(r,1e6),p=l.geographicToWebMercator(f),e.next=6,u.normalizeCentralMeridian(p);case 6:d=e.sent,m=new o({geometry:d[0],symbol:s}),a.add(m);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}var m}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),b=a(61),E={date:new Date},O=Object(n.createContext)(E),j=O.Provider,_=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){switch(t.type){case"SET_DATE":return Object(b.a)(Object(b.a)({},e),{},{date:t.data});default:throw new Error}}),E),s=Object(p.a)(a,2),o=s[0],i=s[1];return r.a.createElement(j,{value:{state:o,dispatch:i}},t)},x=a(71),T=a(139),S=(a(97),i.a.Header),N=i.a.Content,C=i.a.Footer,k=function(e){var t=e.dispatch,a=e.view,s=e.now,o=Object(n.useRef)(),l=Object(n.useState)(null),m=Object(p.a)(l,2),y=m[0],g=m[1];return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(h.a.mark((function e(){var n,r,i,c,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.loadModules)(["esri/widgets/TimeSlider"],{css:!0});case 2:n=e.sent,r=Object(p.a)(n,1),i=r[0],c=w(s),u=c.tomorrow,l=c.yesterday,(y=new i({view:a,container:o.current,loop:!0,layout:"compact",mode:"instant",timeVisible:!0,stops:{interval:{value:1,unit:"hours"}},fullTimeExtent:{start:l,end:u},timeExtent:{start:s,end:s}})).watch("timeExtent",(function(e){t({type:"SET_DATE",data:new Date(e.start)})})),g(y);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(S,{className:"headerTitle"},"Day and Night"),r.a.createElement(i.a,null,r.a.createElement(N,null,r.a.createElement("div",{ref:o}))),r.a.createElement(C,null,r.a.createElement(c.a,{className:"footer"},r.a.createElement(u.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}},r.a.createElement(T.a,{onChange:function(e){return function(e,t,a){if(null!==e){var n=w(e.toDate()),r=n.tomorrow,s=n.yesterday;t.fullTimeExtent={start:s,end:r},t.timeExtent={start:e.toDate(),end:e.toDate()},a({type:"SET_DATE",data:e.toDate()})}}(e,y,t)},className:"footerContent datePicker",defaultValue:v()()})),r.a.createElement(u.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12}},r.a.createElement("div",{className:"footerContent twitterButton"},r.a.createElement(x.a,{screenName:"ialixandroae",options:{showCount:!1}})))))))},D=function(){var e=Object(n.useContext)(O),t=e.dispatch,a=Object(n.useRef)(),s=Object(n.useState)(null),i=Object(p.a)(s,2),c=i[0],u=i[1],l=Object(n.useState)(null),m=Object(p.a)(l,2),v=m[0],y=m[1],g=e.state.date;return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(h.a.mark((function e(){var n,s,i,c,l,f,m,w,b,E;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.loadModules)(["esri/Map","esri/views/MapView","esri/layers/GraphicsLayer","esri/widgets/Expand"],{css:!0});case 2:return n=e.sent,s=Object(p.a)(n,4),i=s[0],c=s[1],l=s[2],f=s[3],v=new l,e.next=11,M(g,v,.3);case 11:return(m=new i({basemap:"topo-vector"})).add(v),w=new c({container:a.current,map:m,zoom:2}),b=document.createElement("div"),o.a.render(r.a.createElement(k,{dispatch:t,view:w,now:g}),b),E=new f({view:w,content:b}),w.ui.add(E,"top-right"),u(w),y(v),e.abrupt("return",(function(){w&&(w.container=null)}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(c){function t(){return(t=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e.state.date,v,.3);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}v.removeAll(),function(){t.apply(this,arguments)}()}}),[e.state.date]),r.a.createElement("div",{style:{height:"100%",width:"100%"},ref:a})},P=function(){var e=Object(n.useContext)(O),t=Object(n.useRef)(),a=Object(n.useState)(null),s=Object(p.a)(a,2),o=s[0],i=s[1],c=Object(n.useState)(null),u=Object(p.a)(c,2),l=u[0],m=u[1],v=e.state.date;return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(h.a.mark((function e(){var a,n,r,s,o,c,u,f,y,g,w;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.loadModules)(["esri/Map","esri/views/SceneView","esri/layers/GraphicsLayer","esri/widgets/Expand","esri/widgets/BasemapGallery"],{css:!0});case 2:return a=e.sent,n=Object(p.a)(a,5),r=n[0],s=n[1],o=n[2],c=n[3],u=n[4],l=new o,e.next=12,M(v,l,.7);case 12:return(f=new r({basemap:"satellite"})).add(l),y=new s({container:t.current,map:f}),i(y),m(l),g=new u({view:y}),w=new c({view:y,content:g}),y.ui.add(w,"top-right"),e.abrupt("return",(function(){y&&(y.container=null)}));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){if(o){function t(){return(t=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e.state.date,l,.7);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}l.removeAll(),function(){t.apply(this,arguments)}()}}),[e.state.date]),r.a.createElement("div",{style:{height:"100%",width:"100%"},ref:t})},U=(a(136),i.a.Content);var z=function(){return r.a.createElement(i.a,null,r.a.createElement(U,null,r.a.createElement(c.a,{gutter:[0,0]},r.a.createElement(u.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12},className:"leftCol"},r.a.createElement(D,null)),r.a.createElement(u.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:12},xl:{span:12},className:"rightCol"},r.a.createElement(P,null)))))};a(137);var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null,r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(138)},95:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.8845801b.chunk.js.map